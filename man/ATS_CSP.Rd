% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ATS_CSP.R
\name{ATS_CSP}
\alias{ATS_CSP}
\title{Apply Climate Sensitivity Profile (CSP) Analysis Across all Time Series (ATS)}
\usage{
ATS_CSP(
  Results_days,
  siteneame.forsub,
  bio_data_all,
  climate.path,
  refday,
  lastdays,
  rollwin,
  optim.k = F
)
}
\arguments{
\item{Results_days}{A data frame containing slope and R² values from a previous daily relationship analysis (e.g., output of \code{runing_daily_relationship()}).}

\item{siteneame.forsub}{Character string. Site identifier (e.g., \code{"longitude=5.12_latitude=45.21"} or \code{plotname.lon.lat}) used to filter biological and climate data.}

\item{bio_data_all}{A data frame with biological data from multiple sites, including \code{sitenewname}, \code{plotname.lon.lat}, and \code{log.seed}.}

\item{climate.path}{Character string. File path to the folder containing climate data files for each site.}

\item{refday}{Integer. Reference day of the year from which backwards climate windows are calculated (e.g., 305 = Nov 1).}

\item{lastdays}{Integer. Number of days to include before the reference day (i.e., total window length).}

\item{rollwin}{Integer. Size of the rolling window used to smooth climate data. Default is 1 (no smoothing).}

\item{optim.k}{Logical. If \code{TRUE}, will optimize the number of knots in the GAM used during CSP fitting. Default is \code{FALSE}.}
}
\value{
A data frame with model fit summaries for each identified cue window at the specified site. Includes window bounds, estimates, and performance metrics.
}
\description{
This function performs Climate Sensitivity Profile (CSP) analysis for a specific site across its entire available time series (ATS).
It filters biological seed data by site, extracts the corresponding climate data, and applies the \code{runing_csp()} function
to identify influential climate windows using generalized additive models (GAMs).
}
\details{
This function simplifies the pipeline for applying CSP across full time series. It:
\itemize{
\item Filters the biological dataset to extract site-specific seed data.
\item Loads and scales the corresponding climate data using \code{format_climate_data()}.
\item Runs \code{runing_csp()} to detect significant weather cue windows based on GAM-predicted slope and R² profiles.
}
}
\examples{
\dontrun{
result <- ATS_CSP(
  Results_days = Results_CSP[[1]],
  siteneame.forsub = "site_123",
  bio_data_all = bio_data,
  climate.path = "data/climate_beech",
  refday = 305,
  lastdays = 600,
  rollwin = 1
)
}

}
\seealso{
\code{\link{runing_csp}}, \code{\link{runing_daily_relationship}}, \code{\link{format_climate_data}}
}
