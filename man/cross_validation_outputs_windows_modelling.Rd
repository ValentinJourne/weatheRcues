% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cross_validation_outputs_windows_modelling.R
\name{cross_validation_outputs_windows_modelling}
\alias{cross_validation_outputs_windows_modelling}
\title{Cross-Validation Prediction Based on Weather Cue Windows}
\usage{
cross_validation_outputs_windows_modelling(
  z,
  bio_data = bio_data,
  window_ranges_df = window_ranges_df,
  rolling.data = rolling.data,
  refday = 305,
  rollwin = 1,
  formula_model = formula("log.seed ~ mean.temperature"),
  model_type = "lm"
)
}
\arguments{
\item{z}{Integer index specifying which row of \code{window_ranges_df} to use for extracting the window range and model parameters.}

\item{bio_data}{A data frame of biological observations (e.g., seed production), including at least \code{year}, \code{sitenewname}, and \code{plotname.lon.lat}.}

\item{window_ranges_df}{A data frame containing the best window parameters including \code{window.open}, \code{window.close}, \code{intercept.estimate}, and \code{slope.estimate}.}

\item{rolling.data}{A data frame of rolling climate data containing \code{days.reversed}, \code{year}, and the climate variable to be matched with the biological data.}

\item{refday}{Integer. Reference day of the year from which windows are computed. Default is 305 (i.e., November 1).}

\item{rollwin}{Integer specifying the rolling window size used in the climate smoothing. Default is 1.}

\item{formula_model}{A formula used for the model (e.g., \code{log.seed ~ temp}). The right-hand side defines the climate covariate to be extracted from \code{rolling.data}.}

\item{model_type}{Character string. Currently only \code{'lm'} is supported (for linear regression).}
}
\value{
A data frame (1 row) containing:
\itemize{
\item \code{sitenewname}, \code{plotname.lon.lat}, and \code{reference.day}
\item The \code{window.open} and \code{window.close} used
\item Model performance metrics: \code{mae}, \code{scaled.mae}, \code{r2.validation}, \code{pbiais}, \code{rmse}, \code{scaled.rmse}, \code{rmse.normalized}
\item Lin's Concordance Correlation Coefficient (\code{ccc.rhos.est}, \code{ccc.rhos.lowCI}, \code{ccc.rhos.highCI})
\item \code{method.cues}: The name of the method used to derive the window
}
}
\description{
This function performs prediction and model validation for a given weather cue window identified from prior analysis.
It calculates performance metrics such as MAE, RMSE, RÂ², and Lin's Concordance Correlation Coefficient by applying the estimated window-specific model to the validation dataset.
}
\examples{
\dontrun{
result <- cross_validation_outputs_windows_modelling(
  z = 1,
  bio_data = bio_train,
  window_ranges_df = window_params,
  rolling.data = rolling_climate,
  formula_model = formula('log.seed ~ temp')
)
}

}
